<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Demo</title>
    <link rel="stylesheet" href="./dist/bootstrap.min.css" />
    <script src="./dist/board-core.js"></script>
    <script>
        var m;
        window.onload = function () {
            m = new boardCore.default(root);
            txtData.value = '{"type":"pen_command","path":[{"x":247,"y":165},{"x":248,"y":165},{"x":250,"y":165},{"x":251,"y":165},{"x":252,"y":165},{"x":253,"y":165},{"x":254,"y":165},{"x":255,"y":165},{"x":255,"y":165}],"opt":{"color":"#000000","size":"4","content":""}}';
        }
        function setBoardSize() {
            var x = document.getElementById("xpos").value;
            var y = document.getElementById("ypos").value;
            m.setSize(x, y);
        }

        function setBackgroundColor() {
            var color = document.getElementById("bgColor").value;
            m.setBackgroundColor(color);
        }

        function setPencilOption() {
            var color = penColorPicker.value;
            var size = cbbPenSize.value;
            m.setBoardOption(color, size, "");
            m.setPencil();
        }

        function setEraseOption() {
            var size = cbbEraseSize.value;
            m.setBoardOption("", size, "");
            m.setErase();
        }

        function undo() {
            m.undo();
        }

        function redo() {
            m.redo();
        }

        function clearBoard() {
            m.clearBoard();
        }

        function setJSONData(str) {
            var str = txtData.value;
            m.setBoardData(str);
        }

        function setTextOption() {
            var color = fontColorPicker.value;
            var size = cbbFontSize.value;
            var content = txtContent.value;
            m.setBoardOption(color, size, content);
            m.setText();
        }
    </script>
    <style>
        input {
            font-size: 14px;

        }

        input[type="button"] {
            font-size: 16px;
        }
    </style>
</head>

<body>
    <div>
        <input type="text" placeholder="x" id="xpos" />
        <input type="text" placeholder="y" id="ypos" />
        <input type="button" value="Confirm" onclick="setBoardSize()" />
    </div>
    <div>
        <input type="text" id="bgColor" />
        <input type="button" value="Confirm" onclick="setBackgroundColor()" class="btn btn-primary btn-sm" />
    </div>
    <div>
        <label>画笔宽度：</label>
        <select id="cbbPenSize">
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>
        <label>颜色：</label>
        <input type="color" id="penColorPicker" />
        <input type="button" value="Confirm" onclick="setPencilOption()" />
    </div>
    <div>
        <label>橡皮擦宽度</label>
        <select id="cbbEraseSize">
            <option value="16">16</option>
            <option value="12">12</option>
            <option value="8">8</option>
            <option value="4">4</option>
        </select>
        <input type="button" value="Confirm" onclick="setEraseOption()" />
    </div>
    <div>
        <label>字号</label>
        <select id="cbbFontSize">
            <option value="12">12</option>
            <option value="16">16</option>
            <option value="20">20</option>
            <option value="24">24</option>
            <option value="28">28</option>
            <option value="32">32</option>
            <option value="36">36</option>
        </select>
        <label>颜色：</label>
        <input type="color" id="fontColorPicker" />
        <label>内容：</label>
        <input type="text" id="txtContent" />
        <input type="button" value="Confirm" onclick="setTextOption()" />
    </div>
    <div>
        <input type="button" value="undo" onclick="undo()" />
        <input type="button" value="redo" onclick="redo()" />
        <input type="button" value="clear" onclick="clearBoard()" />
    </div>
    <div>
        <input type="text" id="txtData" />
        <input type="button" value="Confirm" onclick="setJSONData()" />
    </div>
    <div>
        <canvas id="root" width="600" height="500"></canvas>
    </div>
</body>

</html>